@page "/quests"
@using Models.GlobalVariables
@inject HttpClient Http
@inject NavigationManager NavManager
@inject GlobalBool GlobalVariable
@inject GlobalPage GlobalPage
@inject IJSRuntime JSRuntime
@inject GlobalSave GlobalSave

<style>
     .progress-bar {
        width: 100%;
        background-color: #e0e0e0;
        border-radius: 10px;
        overflow: hidden;
        height: 30px;
    }

    .progress-bar-fill {
        height: 100%;
        background-color: #76c7c0;
        width: 0%;
        transition: linear;
    }
</style>

<h1>Tank Order Testing</h1>

    @* Makes sure that a global save exists before rendering the page *@
    @if (GlobalSave.NewSave == null){

    }
    else {

            <IdleGame.RazorComponents.TankOrder PlayerBattalions="GlobalSave.NewSave.PlayerUnits" EnemyBattalions="GlobalSave.NewSave.EnemyUnits" />

    }

@code {
     @* private WeatherForecast[]? forecasts; *@

    protected override async Task OnInitializedAsync() {
        GlobalPage.PageNumber = 3;
        if (GlobalVariable.FirstRender){
            NavManager.NavigateTo("/");
            GlobalVariable.FirstRender = false;
        }
        else {
            NavManager.NavigateTo("/quests");
        }
    }
}
